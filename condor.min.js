// CONDOR 1.5 Made by Chen Ye, MIT License
!function(n){n.fn.condor=function(t){function r(){return c=a.children(".condor-active").length}function u(n,i,t){a.append("<div class='field "+i+" '><div class='ui left icon input "+t+"'><input type='"+e.inputType+"' placeholder='"+e.inactiveHint+"'><i class='plus icon'></i></div></div>")}function d(){return u("","condor-active",""),a.children(".condor-active").filter(function(){return 0===n(this).find("input").val().length}).first()}function l(){var i=a.children(".condor-add");return u("add another link","condor-add",e.inactiveInputClass),e.addCallback.call(),i}function s(){a.children(".condor-add").remove()}function f(){a.on("click focusin",".condor-add",function(){v(n(this))})}function p(){a.on("propertychange keyup input paste",".condor-active",function(){var t=n(this),a=t.find("input");""===a.val()?(t.addClass("new"),s()):t.hasClass("new")&&(t.removeClass("new"),r(),c<e.maxInputs&&l(c))}),a.on("blur",".condor-active input",function(){""===this.value&&c>e.minInputs&&(n(this).parent().parent().remove(),c-=1)})}function v(n){var i,t,a=n.find("input"),o=n.find("i.icon");c+=1,n.find(".input").removeClass(e.inactiveInputClass),o.removeClass("plus"),o.addClass(e.activeIcon),a.attr("placeholder",e.activeHint),e.uniqueNames?(i=r(),t=e.namePrefix+"-"+i,a.attr("name",t)):a.attr("name",e.namePrefix),n.addClass("condor-active new"),n.removeClass("condor-add"),e.activateCallback.call()}function h(){e.prepopulate.forEach(function(n){var e=d(r()),a=e.find("input");a.val(n),v(e)})}function m(){for(p(),f(),h(),i=0;i<e.minInputs;i++)l(c);v(a.children(".condor-add"))}var e,a=n(this),c=0,o={getValues:function(){var n=[],i=0;return a.find(".condor-active input").each(function(){0!==this.value.length&&(n[i]=this.value,i+=1)}),n}};return o[t]?o[t].apply(this,[]):(e=n.extend({minInputs:1,maxInputs:10,namePrefix:"inputs",uniqueNames:!0,inactiveHint:"add input",inactiveInputClass:"inverted",activeHint:"",activeIcon:"linkify",addCallback:function(){},activateCallback:function(){},inputType:"text",prepopulate:[]},t),m(),this)}}(jQuery);